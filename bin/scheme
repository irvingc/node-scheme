#!/usr/bin/env node

var Readline = require('readline');
var Scheme = require('../lib/scheme');
var Util =  require('util');

var std = Readline.createInterface({
  input: process.stdin,
  output: process.stdout
});

std.setPrompt('> ', 2);

std.on('line', function(cmd) {
  if(cmd == '\\q') {
    console.log("Exiting...");
    std.close();
  } else {
    Scheme.read(cmd);
    var inspected = Util.inspect(Scheme.tree, true, 10, true);
    console.log(inspected);
    std.prompt();
  } 
});


std.prompt();
